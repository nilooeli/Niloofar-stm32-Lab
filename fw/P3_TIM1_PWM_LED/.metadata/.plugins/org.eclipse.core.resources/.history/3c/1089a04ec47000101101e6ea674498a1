#include "pwm_fade.h"
#include "tim.h"
extern TIM_HandleTypeDef htim2;

void PWM_Fade_Init(void)
{
	HAL_TIM_PWM_Start(&htim2, TIM_CHANNEL_1);
}

void PWM_FadeLED(void)
{
	while(1)
	{
		for (uint16_t duty = 0; duty<= 999; duy += 10)
		{
			__HAL_TIM_SET_COMPARE(&htim2, TIM_CHANNEL_1, duty);
			HAL_Delay(10);
		}

		for (uint16_t duty = 999; duty > 0; duty -= 10)
		{
			__HAL_TIM_SET_COMPARE(&htim2, TIM_CHANNEL_1, duty);
			HAL_Delay(10);
		}
	}
}
